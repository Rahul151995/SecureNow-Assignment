//# sourceMappingURL=clickToCallNew.js.map
function createProspectFromClickToCall(){(new Image).src="//www.googleadservices.com/pagead/conversion/1024240456/?label=EaWECPzLvGkQyNay6AM&guid=ON&script=0";var a=document.getElementById("calcMobile").value,b=document.getElementById("clickToCallName").value,c=document.getElementById("clickToCallLocation").value;if(isValidMobile(a)){$(".connecting").fadeIn(200);setTimeout(function(){$(".call-panel input").val("");$(".connecting").fadeOut(200)},15E3);var d=pageURL.searchParams.get("partner")?pageURL.searchParams.get("partner"):
null;$.ajax({url:"/api/v1/createOrUpdateProspect",type:"POST",data:{mobile:a,name:b,product:$("#selectedProduct").val(),location:c,partnerId:d,leadSource:String(pageURL),googleClickID:pageURL.searchParams.get("gclid")},success:function(d){d.isSuccess?(document.getElementById("prospectId").value=d.data.prospectId,document.getElementById("mobile").value=a,document.getElementById("name")&&(document.getElementById("name").value=b),document.getElementById("company")&&(document.getElementById("company").value=
b),document.getElementById("location").value=c):showErrorGeneric(null,"Invalid Mobile","errorMsgClickToCall",null,null)},error:function(a,b,c){showErrorGeneric(null,"Internal Server Error","errorMsgClickToCall",null,null)}})}else showErrorGeneric(null,"Invalid Mobile","errorMsgClickToCall",null,null)}
function initiateCallFromClickToCall(){if("production"===environmentCheck||"staging"===environmentCheck||"staging2"===environmentCheck){var a=document.getElementById("calcMobile").value;isValidMobile(a)?(console.log("Calling Customer"),$("#click2call_submitbtn").click()):showErrorGeneric(null,"Invalid Mobile","errorMsgClickToCall",null,null)}}
function fetchLocationsForClickToCall(){$.ajax({url:"/public/getLocation",type:"GET",success:function(a){if(a.isSuccess){var b=new Bloodhound({datumTokenizer:function(a){return Bloodhound.tokenizers.nonword(a)},queryTokenizer:Bloodhound.tokenizers.whitespace,local:a.data.cityList});b.initialize();$("#clickToCallLocation").typeahead({highlight:!0,hint:!1,minLength:1},{name:"location",limit:50,source:b.ttAdapter()}).on("change blur",function(){match=!1;$.each(b.index.datums,function(a,b){$("#location").val()==
b&&(match=!0)});match||$("#location").val("")});return!0}showContactInfoError(a.message);return!1},error:function(a,b,c){}})}fetchLocationsForClickToCall();$(document).ready(function(){$(".open-call-panel").on("click",function(){$(this).parent(".call-theme-panel").addClass("active")});$(".close-call-panel").on("click",function(){$(".connecting").fadeOut(200);$(this).parent(".call-theme-panel").removeClass("active")})});